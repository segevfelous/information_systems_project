<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>order Preview</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">

  <style>
    .box{max-width:900px;margin:20px auto;padding:14px;border:1px solid #ddd;border-radius:12px;}
    table{width:100%;border-collapse:collapse;margin-top:10px;}
    th,td{border:1px solid #eee;padding:8px;text-align:left;}
    .warning{color:#b00020;}
    .actions{margin-top:14px;display:flex;gap:10px;align-items:center;}
    .actions button{padding:10px 14px;border-radius:10px;border:1px solid #bbb;cursor:pointer;}
    input{padding:10px;border-radius:10px;border:1px solid #bbb;width:100%;max-width:360px;}
  </style>
</head>
<body>

<div class="box">
  <h1>order Preview</h1>

  <p><b>order code:</b> {{ order_code }}</p>
  <p><b>Email:</b> {{ email }}</p>

  <p><b>Flight:</b> {{ flight_date }} {{ departure_time }} | {{ flight.Departure_Airport }} → {{ flight.Destination_Airport }}</p>

  <h2>Selected seats</h2>
  <table>
    <thead>
      <tr>
        <th>Seat</th>
        <th>Class</th>
        <th>Price</th>
      </tr>
    </thead>
    <tbody>
    {% for s in seat_items %}
      <tr>
        <td>{{ s.seat }}</td>
        <td>{{ s.class }}</td>
        <td>{{ s.price }}$</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>

  <h2>Total</h2>
  <p><b>{{ total_price }}$</b></p>

  <form method="POST" action="/order/confirm">
    {% if need_unreg_details %}
      <h2>We don’t recognize this email — please enter details</h2>
      <div class="warning">All fields are required</div>
      <p><input name="fname" placeholder="First name" required></p>
      <p><input name="lname" placeholder="Last name" required></p>
      <p><input name="phone_number" placeholder="Phone_number" required></p>
    {% endif %}

    <div class="actions">
      <button type="submit">Confirm order</button>
      <a href="/session/clear">Cancel</a>
    </div>
  </form>
</div>

</body>
</html>
